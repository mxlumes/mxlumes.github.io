<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="M-X Lumes Professional 3:1 Epoxy Resin Systems - Crystal Clear Studio Grade">
  <title>M-X Lumes | Professional Epoxy Resin Systems</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
    :root {
      --accent-grad: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
      --accent-solid: #6366f1;
      --bg: #000000;
      --glass: rgba(15, 15, 15, 0.85);
      --border: rgba(255, 255, 255, 0.12);
      --text: #ffffff;
      --text-dim: #a3a3a3;
      --success: #10b981;
      --warning: #fbbf24;
      --danger: #ef4444;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', Segoe UI, Roboto, sans-serif; }
    html { scroll-behavior: smooth; scroll-padding-top: 80px; overflow-x: hidden; }
    body { background: var(--bg); color: var(--text); line-height: 1.6; }

    /* CURSOR & PERFORMANCE */
    @media (pointer: fine) { * { cursor: none !important; } }
    .cursor { position: fixed; z-index: 9999; pointer-events: none; border-radius: 50%; transition: transform 0.1s ease-out; }
    .cursor-dot { width: 12px; height: 12px; background: var(--accent-solid); box-shadow: 0 0 20px var(--accent-solid); }
    .cursor-ring { width: 50px; height: 50px; border: 1px solid var(--accent-solid); opacity: 0.3; transform: scale(0.8); }

    /* BACKGROUND SYSTEM */
    .bg-layers { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; z-index: -2; }
    .bg-main { background: var(--bg) url('product-hero.webp') no-repeat center/cover; filter: brightness(0.7) contrast(1.1); }
    .bg-overlay { background: linear-gradient(180deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.95) 50%, var(--bg) 100%); }
    .bg-grain::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23noise)' opacity='.3'/%3E%3C/svg%3E"); }

    /* NAVIGATION 2.0 */
    .navbar { position: fixed; top: 0; width: 100%; padding: 1rem 0; backdrop-filter: blur(25px); background: rgba(0,0,0,0.9); border-bottom: 1px solid var(--border); z-index: 1000; }
    .nav-container { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 2rem; }
    .logo { font-size: 1.5rem; font-weight: 900; background: var(--accent-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration: none; }
    .nav-menu { display: flex; gap: 2rem; list-style: none; }
    .nav-link { color: var(--text-dim); text-decoration: none; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px; position: relative; transition: all 0.3s ease; }
    .nav-link:hover, .nav-link.active { color: #fff; }
    .nav-link::after { content: ''; position: absolute; bottom: -8px; left: 0; width: 0; height: 2px; background: var(--accent-grad); transition: width 0.3s ease; }
    .nav-link:hover::after, .nav-link.active::after { width: 100%; }

    /* HERO SECTION */
    .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; position: relative; }
    .hero-content { text-align: center; max-width: 800px; padding: 0 2rem; }
    .hero-title { font-size: clamp(3rem, 8vw, 6rem); font-weight: 900; line-height: 1.1; background: linear-gradient(135deg, #fff 0%, var(--accent-solid) 50%, #fff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1.5rem; animation: heroShine 8s ease-in-out infinite; }
    @keyframes heroShine { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
    .hero-subtitle { font-size: 1.3rem; color: var(--text-dim); margin-bottom: 3rem; max-width: 600px; }
    .cta-group { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    .btn-primary, .btn-secondary { padding: 1rem 2.5rem; border-radius: 50px; font-weight: 700; text-decoration: none; transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1); border: none; cursor: pointer; font-size: 1rem; }
    .btn-primary { background: var(--accent-grad); color: white; box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4); }
    .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 25px 50px rgba(99, 102, 241, 0.6); }
    .btn-secondary { background: transparent; color: #fff; border: 2px solid var(--border); }
    .btn-secondary:hover { background: #fff; color: var(--bg); }

    /* SECTIONS */
    .section { padding: 8rem 2rem; max-width: 1400px; margin: 0 auto; }
    .section-title { font-size: clamp(2.5rem, 5vw, 4rem); text-align: center; margin-bottom: 4rem; background: linear-gradient(135deg, #fff 0%, var(--accent-solid) 50%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; position: relative; }
    .section-title::after { content: ''; position: absolute; bottom: -1rem; left: 50%; transform: translateX(-50%); width: 100px; height: 3px; background: var(--accent-grad); border-radius: 2px; }

    /* GRID SYSTEMS */
    .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; }
    .grid-4 { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
    .glass-card { background: var(--glass); backdrop-filter: blur(30px); border: 1px solid var(--border); border-radius: 24px; padding: 2.5rem; transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1); position: relative; overflow: hidden; }
    .glass-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: var(--accent-grad); transform: scaleX(0); transition: transform 0.4s ease; }
    .glass-card:hover { transform: translateY(-12px); box-shadow: 0 30px 60px rgba(0,0,0,0.4); border-color: rgba(99,102,241,0.3); }
    .glass-card:hover::before { transform: scaleX(1); }

    /* PRODUCT CARDS */
    .product-card { text-align: center; }
    .product-badge { display: inline-block; background: var(--success); color: white; padding: 0.5rem 1rem; border-radius: 50px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1rem; }
    .product-image { width: 100%; height: 250px; object-fit: cover; border-radius: 16px; margin-bottom: 1.5rem; transition: transform 0.6s ease; }
    .product-card:hover .product-image { transform: scale(1.05); }
    .product-title { font-size: 1.8rem; font-weight: 800; margin-bottom: 0.5rem; }
    .product-price { font-size: 2rem; font-weight: 800; background: var(--accent-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 1rem; }
    .product-stock { font-size: 0.9rem; color: var(--success); font-weight: 600; }

    /* NEW FEATURES */
    
    /* 1. SEARCH BAR */
    .search-container { max-width: 600px; margin: 0 auto 3rem; position: relative; }
    .search-input { width: 100%; padding: 1.25rem 1rem 1.25rem 3rem; background: var(--glass); border: 1px solid var(--border); border-radius: 50px; color: #fff; font-size: 1.1rem; backdrop-filter: blur(20px); }
    .search-input::placeholder { color: var(--text-dim); }
    .search-icon { position: absolute; left: 1.25rem; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; opacity: 0.6; }
    
    /* 2. FILTERS */
    .filters { display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; margin-bottom: 3rem; }
    .filter-btn { padding: 0.75rem 1.5rem; background: transparent; border: 1px solid var(--border); border-radius: 50px; color: var(--text); font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
    .filter-btn.active, .filter-btn:hover { background: var(--accent-grad); border-color: var(--accent-solid); color: white; }

    /* 3. NOTIFICATION SYSTEM */
    .notification { position: fixed; top: 100px; right: 2rem; padding: 1.25rem 2rem; border-radius: 16px; backdrop-filter: blur(20px); transform: translateX(400px); transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1); z-index: 10000; max-width: 400px; }
    .notification.show { transform: translateX(0); }
    .notification.success { background: rgba(16, 185, 129, 0.15); border: 1px solid var(--success); }
    .notification.error { background: rgba(239, 68, 68, 0.15); border: 1px solid var(--danger); }

    /* 4. PROGRESS BAR */
    .progress-container { position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: rgba(255,255,255,0.1); z-index: 1001; }
    .progress-bar { height: 100%; background: var(--accent-grad); width: 0%; transition: width 0.3s ease; }

    /* 5. SOCIAL PROOF */
    .social-proof { display: flex; gap: 2rem; justify-content: center; flex-wrap: wrap; margin: 3rem 0; }
    .proof-item { display: flex; align-items: center; gap: 0.75rem; padding: 1rem 1.5rem; background: var(--glass); border-radius: 50px; border: 1px solid var(--border); }
    .proof-count { font-size: 1.5rem; font-weight: 800; color: var(--accent-solid); }

    /* 6. COLOR PICKER */
    .color-picker { display: flex; gap: 1rem; justify-content: center; margin: 2rem 0; }
    .color-swatch { width: 50px; height: 50px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: all 0.3s ease; position: relative; }
    .color-swatch.active { border-color: var(--accent-solid); transform: scale(1.2); box-shadow: 0 0 25px var(--accent-solid); }
    .color-swatch:hover::after { content: attr(data-name); position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: var(--glass); padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.8rem; white-space: nowrap; }

    /* 7. SIZE SELECTOR */
    .size-selector { display: flex; gap: 0.75rem; justify-content: center; margin: 1.5rem 0; }
    .size-btn { width: 50px; height: 50px; border-radius: 12px; border: 2px solid var(--border); background: transparent; color: var(--text); font-weight: 700; cursor: pointer; transition: all 0.3s ease; }
    .size-btn.active, .size-btn:hover { border-color: var(--accent-solid); background: var(--accent-grad); color: white; }

    /* 8. LOADING ANIMATIONS */
    .loading { display: inline-block; width: 20px; height: 20px; border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; border-top-color: var(--accent-solid); animation: spin 1s ease-in-out infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* 9. FLOATING CTAs */
    .floating-cta { position: fixed; bottom: 2rem; right: 2rem; display: flex; flex-direction: column; gap: 1rem; z-index: 1000; }
    .fab { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(0,0,0,0.4); transition: all 0.3s ease; cursor: pointer; text-decoration: none; color: white; font-weight: 700; font-size: 1.2rem; }
    .fab-cart { background: var(--accent-grad); }
    .fab-whatsapp { background: #25D366; animation: pulse 2s infinite; }
    .fab:hover { transform: scale(1.1); }

    /* 10. MEGA MENU */
    .mega-menu { position: absolute; top: 100%; left: 0; right: 0; background: var(--glass); backdrop-filter: blur(30px); border: 1px solid var(--border); border-radius: 20px; padding: 2rem; display: none; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; }
    .nav-item:hover .mega-menu { display: grid; }
    .menu-category { }
    .menu-link { display: block; color: var(--text-dim); text-decoration: none; padding: 0.5rem 0; transition: color 0.3s ease; }
    .menu-link:hover { color: #fff; }

    /* MODALS */
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); z-index: 2000; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.4s ease; }
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-content { background: var(--glass); border: 1px solid var(--border); border-radius: 24px; max-width: 90%; max-height: 90%; overflow-y: auto; transform: scale(0.8); transition: transform 0.4s ease; }
    .modal-overlay.active .modal-content { transform: scale(1); }
    .modal-close { position: absolute; top: 1.5rem; right: 1.5rem; width: 40px; height: 40px; border-radius: 50%; background: rgba(255,255,255,0.2); color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.2rem; }

    /* CART SIDEBAR */
    .cart-sidebar { position: fixed; top: 0; right: -500px; width: 400px; height: 100%; background: var(--glass); backdrop-filter: blur(30px); border-left: 1px solid var(--border); z-index: 2001; transition: right 0.4s cubic-bezier(0.23, 1, 0.32, 1); overflow-y: auto; }
    .cart-sidebar.active { right: 0; }
    .cart-header { padding: 2rem; border-bottom: 1px solid var(--border); }
    .cart-items { padding: 1.5rem; }
    .cart-item { display: flex; gap: 1rem; padding: 1.5rem 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
    .cart-summary { padding: 2rem; border-top: 1px solid var(--border); }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .nav-menu { display: none; }
      .section { padding: 4rem 1rem; }
      .grid-3, .grid-4 { grid-template-columns: 1fr; }
      .cart-sidebar { width: 100%; }
    }

    /* ANIMATIONS */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    .animate { animation: fadeInUp 0.8s ease forwards; }
  </style>
</head>
<body>
  <!-- PROGRESS BAR -->
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- BACKGROUND -->
  <div class="bg-layers">
    <div class="bg-main"></div>
    <div class="bg-overlay"></div>
    <div class="bg-grain"></div>
  </div>

  <!-- CURSOR -->
  <div class="cursor cursor-dot" id="cursorDot"></div>
  <div class="cursor cursor-ring" id="cursorRing"></div>

  <!-- NAVIGATION -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">M-X LUMES</a>
      <ul class="nav-menu">
        <li class="nav-item"><a href="#products" class="nav-link">Products</a>
          <div class="mega-menu">
            <div class="menu-category">
              <h4>Studio Kits</h4>
              <a href="#" class="menu-link">Starter 1.2KG</a>
              <a href="#" class="menu-link">Pro 7.5KG</a>
            </div>
            <div class="menu-category">
              <h4>Industrial</h4>
              <a href="#" class="menu-link">30KG Drums</a>
            </div>
          </div>
        </li>
        <li><a href="#gallery" class="nav-link">Gallery</a></li>
        <li><a href="#configurator" class="nav-link">Configurator</a></li>
        <li><a href="#quotes" class="nav-link">Get Quote</a></li>
      </ul>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title animate">CRYSTAL CLEAR<br>STUDIO PERFECTION</h1>
      <p class="hero-subtitle animate" style="animation-delay: 0.2s;">3:1 Professional Epoxy Resin ‚Ä¢ Zero VOC ‚Ä¢ UV Resistant ‚Ä¢ 120min Pot Life</p>
      <div class="cta-group animate" style="animation-delay: 0.4s;">
        <a href="#products" class="btn-primary">Shop Studio Kits</a>
        <a href="#configurator" class="btn-secondary">Color Studio</a>
      </div>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section id="products" class="section">
    <!-- SEARCH -->
    <div class="search-container">
      <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
      </svg>
      <input type="text" class="search-input" placeholder="Search 1.2KG, 7.5KG, Industrial Drums..." oninput="searchProducts(this.value)">
    </div>

    <!-- FILTERS -->
    <div class="filters">
      <button class="filter-btn active" data-filter="all">All Products</button>
      <button class="filter-btn" data-filter="starter">Starter</button>
      <button class="filter-btn" data-filter="studio">Studio</button>
      <button class="filter-btn" data-filter="industrial">Industrial</button>
    </div>

    <!-- SOCIAL PROOF -->
    <div class="social-proof">
      <div class="proof-item">
        <div class="proof-count">127+</div>
        <span>Orders This Week</span>
      </div>
      <div class="proof-item">
        <div class="proof-count">24h</div>
        <span>Same Day Dispatch</span>
      </div>
      <div class="proof-item">
        <div class="proof-count">4.9‚≠ê</div>
        <span>Studio Reviews</span>
      </div>
    </div>

    <!-- PRODUCT GRID -->
    <div class="grid-3" id="productGrid">
      <div class="glass-card product-card" data-category="starter">
        <div class="product-badge">Starter Kit</div>
        <img src="product-1.webp" class="product-image" alt="1.2KG Starter">
        <h3 class="product-title">1.2KG KIT</h3>
        <div class="product-price">‚Çπ1,250</div>
        <div class="product-stock">127 in stock</div>
        <div class="size-selector">
          <button class="size-btn">1KG</button>
          <button class="size-btn active">1.2KG</button>
        </div>
        <div class="color-picker">
          <div class="color-swatch active" data-name="Clear" style="background: transparent;" onclick="selectColor(this)"></div>
          <div class="color-swatch" data-name="UV Block" style="background: linear-gradient(45deg, #00d4ff, #0099cc);" onclick="selectColor(this)"></div>
        </div>
        <button class="btn-primary" style="width: 100%; margin-top: 1rem;" onclick="addToCart('Starter Kit 1.2KG', 1250)">Add to Cart</button>
      </div>

      <div class="glass-card product-card" data-category="studio">
        <div class="product-badge" style="background: var(--accent-grad);">Studio Pro</div>
        <img src="product-2.webp" class="product-image" alt="7.5KG Studio">
        <h3 class="product-title">7.5KG STUDIO</h3>
        <div class="product-price">‚Çπ10,999</div>
        <div class="product-stock">23 in stock</div>
        <button class="btn-primary" style="width: 100%; margin-top: 1rem;" onclick="addToCart('Studio Pack 7.5KG', 10999)">Add to Cart</button>
      </div>

      <div class="glass-card product-card" data-category="industrial">
        <div class="product-badge">Industrial</div>
        <img src="product-3.webp" class="product-image" alt="30KG Drum">
        <h3 class="product-title">30KG DRUM</h3>
        <div class="product-price">‚Çπ38,999</div>
        <div class="product-stock">12 drums</div>
        <button class="btn-primary" style="width: 100%; margin-top: 1rem;" onclick="addToCart('Industrial Drum 30KG', 38999)">Add to Cart</button>
      </div>
    </div>
  </section>

  <!-- FLOATING CTAs -->
  <div class="floating-cta">
    <div class="fab fab-cart" onclick="toggleCart()" id="cartFab">
      üõí <span id="cartCount">0</span>
    </div>
    <a href="https://wa.me/919876543210?text=M-X%20Lumes%20Quote" class="fab fab-whatsapp" target="_blank">üí¨</a>
  </div>

  <!-- CART SIDEBAR -->
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2>Your Cart (<span id="cartItemCount">0</span>)</h2>
      <button class="modal-close" onclick="toggleCart()">√ó</button>
    </div>
    <div class="cart-items" id="cartItems"></div>
    <div class="cart-summary">
      <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
        <span>Subtotal</span>
        <span id="cartSubtotal">‚Çπ0</span>
      </div>
      <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.5rem; margin-bottom: 1.5rem;">
        <span>Total</span>
        <span id="cartTotal">‚Çπ0</span>
      </div>
      <button class="btn-primary" style="width: 100%;" onclick="checkout()">Checkout Now</button>
    </div>
  </div>

  <!-- QUICK VIEW MODAL -->
  <div class="modal-overlay" id="quickViewModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeQuickView()">√ó</button>
      <div style="display: flex; gap: 2rem; padding: 2rem;">
        <img id="qvImage" src="" alt="" style="width: 300px; height: 300px; object-fit: cover; border-radius: 16px;">
        <div>
          <h2 id="qvTitle"></h2>
          <div id="qvPrice" style="font-size: 2rem; font-weight: 800; margin: 1rem 0; background: var(--accent-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></div>
          <p id="qvDescription"></p>
          <button class="btn-primary" style="width: 100%; margin-top: 1rem;" onclick="addToCartFromModal()">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // GLOBAL STATE
    let cart = [];
    let selectedProduct = null;

    // CURSOR
    if (window.matchMedia('(pointer: fine)').matches) {
      const dot = document.getElementById('cursorDot');
      const ring = document.getElementById('cursorRing');
      document.addEventListener('mousemove', (e) => {
        dot.style.left = e.clientX + 'px';
        dot.style.top = e.clientY + 'px';
        ring.style.left = e.clientX + 'px';
        ring.style.top = e.clientY + 'px';
      });
    }

    // PROGRESS BAR
    window.addEventListener('scroll', () => {
      const scroll = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
      document.getElementById('progressBar').style.width = scroll + '%';
    });

    // SEARCH
    function searchProducts(query) {
      const cards = document.querySelectorAll('.product-card');
      cards.forEach(card => {
        const text = card.textContent.toLowerCase();
        card.style.display = text.includes(query.toLowerCase()) ? 'block' : 'none';
      });
    }

    // FILTERS
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelector('.filter-btn.active').classList.remove('active');
        btn.classList.add('active');
        
        const filter = btn.dataset.filter;
        document.querySelectorAll('.product-card').forEach(card => {
          card.style.display = filter === 'all' || card.dataset.category === filter ? 'block' : 'none';
        });
      });
    });

    // CART SYSTEM
    function addToCart(name, price) {
      cart.push({ name, price, qty: 1 });
      updateCart();
      showNotification('Added to cart!', 'success');
    }

    function updateCart() {
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      document.getElementById('cartCount').textContent = cart.length;
      document.getElementById('cartItemCount').textContent = cart.length;
      document.getElementById('cartSubtotal').textContent = '‚Çπ' + total.toLocaleString();
      document.getElementById('cartTotal').textContent = '‚Çπ' + Math.round(total * 1.18).toLocaleString();
      
      const cartItems = document.getElementById('cartItems');
      if (cart.length === 0) {
        cartItems.innerHTML = '<p style="text-align: center; color: var(--text-dim);">Your cart is empty</p>';
      } else {
        cartItems.innerHTML = cart.map((item, i) => `
          <div class="cart-item">
            <div>
              <div style="font-weight: 600; margin-bottom: 0.5rem;">${item.name}</div>
              <div style="color: var(--accent-solid); font-weight: 700;">‚Çπ${(item.price * item.qty).toLocaleString()}</div>
            </div>
            <div style="display: flex; gap: 0.5rem; align-items: center;">
              <button onclick="updateQty(${i}, -1)" style="width: 35px; height: 35px; border-radius: 8px; background: var(--glass); border: none; color: white;">-</button>
              <span style="min-width: 25px; text-align: center;">${item.qty}</span>
              <button onclick="updateQty(${i}, 1)" style="width: 35px; height: 35px; border-radius: 8px; background: var(--glass); border: none; color: white;">+</button>
              <button onclick="removeFromCart(${i})" style="width: 35px; height: 35px; border-radius: 50%; background: var(--danger); border: none; color: white;">√ó</button>
            </div>
          </div>
        `).join('');
      }
    }

    function updateQty(index, change) {
      cart[index].qty = Math.max(1, cart[index].qty + change);
      updateCart();
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCart();
    }

    function toggleCart() {
      document.getElementById('cartSidebar').classList.toggle('active');
    }

    function checkout() {
      if (cart.length === 0) return showNotification('Cart is empty!', 'error');
      
      const total = document.getElementById('cartTotal').textContent;
      const items = cart.map(item => `${item.name} x${item.qty}`).join(', ');
      
      // WhatsApp Checkout
      window.open(`https://wa.me/919876543210?text=üõí ORDER: ${items}\nüí∞ Total: ${total}\nüìç Meerut, UP`);
      showNotification('Order sent to WhatsApp!', 'success');
    }

    // NOTIFICATIONS
    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.innerHTML = `<span>${message}</span>`;
      document.body.appendChild(notification);
      
      setTimeout(() => notification.classList.add('show'), 100);
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => notification.remove(), 400);
      }, 4000);
    }

    // ANIMATIONS
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        }
      });
    });
    
    document.querySelectorAll('.glass-card, .section').forEach(el => observer.observe(el));

    // ESCAPE KEY
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active, .cart-sidebar.active').forEach(el => el.classList.remove('active'));
      }
    });
  </script>
</body>
</html>
